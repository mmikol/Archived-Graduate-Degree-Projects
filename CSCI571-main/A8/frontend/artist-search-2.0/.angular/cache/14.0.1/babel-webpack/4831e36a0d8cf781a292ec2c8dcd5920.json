{"ast":null,"code":"import _asyncToGenerator from \"/Users/miliano/Documents/mmikol.github.io/A8/frontend/artist-search-2.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ArtistGene } from 'src/models/artist-gene';\nlet ArtistDetailsTabsComponent = class ArtistDetailsTabsComponent {\n  constructor(artistDetailsData, artistArtworksData) {\n    this.artistDetailsData = artistDetailsData;\n    this.artistArtworksData = artistArtworksData;\n  }\n\n  ngOnInit() {\n    this.artistDetailsData.message.subscribe(data => {\n      const missing = [];\n      if (!data.biography) missing.push('No Biography');\n      if (!data.birthday) missing.push('No Birth Year');\n      if (!data.deathday) missing.push('No Death Year');\n      if (!data.name) missing.push('No Name');\n      if (!data.nationality) missing.push('No Nationality');\n      this.missing = missing.join(', ');\n      this.details = data;\n    });\n    this.artistArtworksData.message.subscribe(data => this.artworks = data);\n  }\n\n  getArtistCategories(query) {\n    return _asyncToGenerator(function* () {\n      const config = [`https://artistsearchbackend.wl.r.appspot.com/genes?id=${query}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }];\n      return yield fetch(...config).then(response => {\n        return response.json();\n      }).then(parsed => parsed.map(item => {\n        return new ArtistGene(item);\n      }));\n    })();\n  }\n\n  expandArtistGenes(artistID, artworkTitle, artworkImage) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      [_this.modalTitle, _this.modalThumbnail] = [artworkTitle, artworkImage];\n      const artistGenes = yield _this.getArtistCategories(artistID);\n    })();\n  }\n\n};\nArtistDetailsTabsComponent = __decorate([Component({\n  selector: 'app-artist-details-tabs',\n  templateUrl: './artist-details-tabs.component.html',\n  styleUrls: ['./artist-details-tabs.component.css']\n})], ArtistDetailsTabsComponent);\nexport { ArtistDetailsTabsComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AAGA,SAASC,UAAT,QAA2B,wBAA3B;AASA,IAAaC,0BAA0B,GAAvC,MAAaA,0BAAb,CAAuC;EAMrCC,YAAoBC,iBAApB,EAAyEC,kBAAzE,EAAsH;IAAlG;IAAqD;EAAkD;;EAE3HC,QAAQ;IACN,KAAKF,iBAAL,CAAuBG,OAAvB,CAA+BC,SAA/B,CAAyCC,IAAI,IAAG;MAC9C,MAAMC,OAAO,GAAG,EAAhB;MACA,IAAI,CAACD,IAAI,CAACE,SAAV,EAAqBD,OAAO,CAACE,IAAR,CAAa,cAAb;MACrB,IAAI,CAACH,IAAI,CAACI,QAAV,EAAoBH,OAAO,CAACE,IAAR,CAAa,eAAb;MACpB,IAAI,CAACH,IAAI,CAACK,QAAV,EAAoBJ,OAAO,CAACE,IAAR,CAAa,eAAb;MACpB,IAAI,CAACH,IAAI,CAACM,IAAV,EAAgBL,OAAO,CAACE,IAAR,CAAa,SAAb;MAChB,IAAI,CAACH,IAAI,CAACO,WAAV,EAAuBN,OAAO,CAACE,IAAR,CAAa,gBAAb;MACvB,KAAKF,OAAL,GAAeA,OAAO,CAACO,IAAR,CAAa,IAAb,CAAf;MACA,KAAKC,OAAL,GAAeT,IAAf;IACD,CATD;IAUA,KAAKJ,kBAAL,CAAwBE,OAAxB,CAAgCC,SAAhC,CAA2CC,IAAD,IAA0B,KAAKU,QAAL,GAAgBV,IAApF;EACD;;EAEYW,mBAAmB,CAACC,KAAD,EAAc;IAAA;MAC5C,MAAMC,MAAM,GAAG,CACb,yDAAyDD,KAAK,EADjD,EAEb;QAAEE,MAAM,EAAE,KAAV;QAAiBC,OAAO,EAAE;UAAE,gBAAgB;QAAlB;MAA1B,CAFa,CAAf;MAIA,aAAaC,KAAK,CAAC,GAAGH,MAAJ,CAAL,CACVI,IADU,CACLC,QAAQ,IAAG;QAAG,OAAOA,QAAQ,CAACC,IAAT,EAAP;MAAwB,CADjC,EAEVF,IAFU,CAELG,MAAM,IAAIA,MAAM,CAACC,GAAP,CAAYC,IAAD,IAAiB;QAAG,OAAO,IAAI9B,UAAJ,CAAe8B,IAAf,CAAP;MAA6B,CAA5D,CAFL,CAAb;IAL4C;EAQ7C;;EAEYC,iBAAiB,CAACC,QAAD,EAAmBC,YAAnB,EAAyCC,YAAzC,EAA6D;IAAA;;IAAA;MACzF,CAAC,KAAI,CAACC,UAAN,EAAkB,KAAI,CAACC,cAAvB,IAAyC,CAACH,YAAD,EAAeC,YAAf,CAAzC;MACA,MAAMG,WAAW,SAAS,KAAI,CAAClB,mBAAL,CAAyBa,QAAzB,CAA1B;IAFyF;EAG1F;;AAnCoC,CAAvC;AAAa/B,0BAA0B,eALtCF,SAAS,CAAC;EACTuC,QAAQ,EAAE,yBADD;EAETC,WAAW,EAAE,sCAFJ;EAGTC,SAAS,EAAE,CAAC,qCAAD;AAHF,CAAD,CAK6B,GAA1BvC,0BAA0B,CAA1B;SAAAA","names":["Component","ArtistGene","ArtistDetailsTabsComponent","constructor","artistDetailsData","artistArtworksData","ngOnInit","message","subscribe","data","missing","biography","push","birthday","deathday","name","nationality","join","details","artworks","getArtistCategories","query","config","method","headers","fetch","then","response","json","parsed","map","item","expandArtistGenes","artistID","artworkTitle","artworkImage","modalTitle","modalThumbnail","artistGenes","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/miliano/Documents/mmikol.github.io/A8/frontend/artist-search-2.0/src/app/artist-details-tabs/artist-details-tabs.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ArtistDetails } from 'src/models/artist-details';\nimport { Artwork } from 'src/models/artwork';\nimport { ArtistGene } from 'src/models/artist-gene';\nimport { ArtistDetailsDataService } from 'src/shared/artist-details-data.service';\nimport { ArtistArtworksDataService } from 'src/shared/artist-artworks-data.service';\n\n@Component({\n  selector: 'app-artist-details-tabs',\n  templateUrl: './artist-details-tabs.component.html',\n  styleUrls: ['./artist-details-tabs.component.css']\n})\nexport class ArtistDetailsTabsComponent implements OnInit {\n  public missing!: string\n  public details!: ArtistDetails\n  public artworks!: Array<Artwork>\n  public modalTitle!: string\n  public modalThumbnail!: string\n  constructor(private artistDetailsData: ArtistDetailsDataService, private artistArtworksData: ArtistArtworksDataService) { }\n\n  ngOnInit(): void {\n    this.artistDetailsData.message.subscribe(data => {\n      const missing = []\n      if (!data.biography) missing.push('No Biography')\n      if (!data.birthday) missing.push('No Birth Year')\n      if (!data.deathday) missing.push('No Death Year')\n      if (!data.name) missing.push('No Name')\n      if (!data.nationality) missing.push('No Nationality')\n      this.missing = missing.join(', ')\n      this.details = data\n    })\n    this.artistArtworksData.message.subscribe((data: Array<Artwork>) => this.artworks = data)\n  }\n\n  public async getArtistCategories(query: string) {\n    const config = [\n      `https://artistsearchbackend.wl.r.appspot.com/genes?id=${query}`,\n      { method: 'GET', headers: { 'Content-Type': 'application/json' } },  \n    ] as const\n    return await fetch(...config)\n      .then(response => { return response.json() })\n      .then(parsed => parsed.map((item: Object) => { return new ArtistGene(item) }))\n  }\n\n  public async expandArtistGenes(artistID: string, artworkTitle: string, artworkImage: string) {\n    [this.modalTitle, this.modalThumbnail] = [artworkTitle, artworkImage]\n    const artistGenes = await this.getArtistCategories(artistID)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}